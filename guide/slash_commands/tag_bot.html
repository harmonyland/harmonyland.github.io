<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Tag Bot | Harmony</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="An easy to use, advanced Discord API library, for Deno.">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.78d177e3.css" as="style"><link rel="preload" href="/assets/js/app.aa2b0109.js" as="script"><link rel="preload" href="/assets/js/2.9c788505.js" as="script"><link rel="preload" href="/assets/js/12.af175295.js" as="script"><link rel="prefetch" href="/assets/js/10.17142413.js"><link rel="prefetch" href="/assets/js/11.3fea2fda.js"><link rel="prefetch" href="/assets/js/13.26057604.js"><link rel="prefetch" href="/assets/js/3.6640af20.js"><link rel="prefetch" href="/assets/js/4.ce023e58.js"><link rel="prefetch" href="/assets/js/5.59cdb8d6.js"><link rel="prefetch" href="/assets/js/6.10e87bb9.js"><link rel="prefetch" href="/assets/js/7.fbbea811.js"><link rel="prefetch" href="/assets/js/8.c9435fcb.js"><link rel="prefetch" href="/assets/js/9.3f2da6df.js">
    <link rel="stylesheet" href="/assets/css/0.styles.78d177e3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Harmony</span></a> <div class="links"><!----> <div class="user-settings"><a href="#" class="settings-button"><svg aria-hidden="true" data-prefix="fas" data-icon="cog" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-cog fa-w-16 settings-icon"><path fill="currentColor" d="M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"></path></svg></a> <div class="user-settings-menu" style="display:none;"><div class="theme-options"><!----> <!----> <div class="dark-theme-options toggle-option"><label for="dark-theme-toggle">Enable Dark Theme?</label> <input id="dark-theme-toggle" type="checkbox"></div> <!----> <!----></div></div></div> <!----> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="https://discord.gg/WVN2JF2FRv" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/harmonyland/harmonyland.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="https://discord.gg/WVN2JF2FRv" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/harmonyland/harmonyland.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Home</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/guide/setup.html" class="sidebar-link">Project Setup</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Beginner</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/beginner/basic_bot.html" class="sidebar-link">Making a Basic Bot</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Slash Commands</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/slash_commands/tag_bot.html" aria-current="page" class="active sidebar-link">Tag Bot</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/slash_commands/tag_bot.html#introduction" class="sidebar-link">Introduction</a></li><li class="sidebar-sub-header"><a href="/guide/slash_commands/tag_bot.html#getting-started" class="sidebar-link">Getting started</a></li><li class="sidebar-sub-header"><a href="/guide/slash_commands/tag_bot.html#basic-structure" class="sidebar-link">Basic Structure</a></li><li class="sidebar-sub-header"><a href="/guide/slash_commands/tag_bot.html#bot-module" class="sidebar-link">Bot Module</a></li><li class="sidebar-sub-header"><a href="/guide/slash_commands/tag_bot.html#database-module" class="sidebar-link">Database Module</a></li><li class="sidebar-sub-header"><a href="/guide/slash_commands/tag_bot.html#resulting-code" class="sidebar-link">Resulting code</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="tag-bot"><a href="#tag-bot" class="header-anchor">#</a> Tag Bot</h1> <h2 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h2> <p>Let's make some cool Slash Commands! What exactly are Slash Commands? These are just commands - but visible on Discord Client when you start typing <code>/</code> and also provide auto-completion and many other features!</p> <h2 id="getting-started"><a href="#getting-started" class="header-anchor">#</a> Getting started</h2> <p>Ahead from here, I assume that you already have made an Application and Bot User. If not, follow <a href="../beginner/basic_bot">this part</a>.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Slash Commands actually don't require making a bot user! But with a bot user you get a lot more functionality than just commands. For the sake of simplicity, we're using bot user way, that uses Gateway for receiving interactions.</p></div> <p>Now go to OAuth2 page, and select <code>bot</code> and <code>applications.commands</code> scopes, then copy invite.</p> <p>If you are confused with this, here's a template link: <code>https://discord.com/api/oauth2/authorize?client_id=YOUR_APPLICATION_ID&amp;permissions=0&amp;scope=bot%20applications.commands</code> and make sure to replace <code>YOUR_APPLICATION_ID</code> with yours!</p> <p>Aaaand then just open the link and add the bot (and Slash Commands Integration) to your server!</p> <h2 id="basic-structure"><a href="#basic-structure" class="header-anchor">#</a> Basic Structure</h2> <p>In this guide, we'll use SQLite database using <a href="https://deno.land/x/sqlite@v2.3.2" target="_blank" rel="noopener noreferrer">this<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> Deno module. Our project will be in two parts - database and bot. Database module will handle tags database, like get a tag, get user's tags, get all tags, delete tag, add tag, etc., and bot module will handle incoming slash commands!</p> <p>Our <code>deps.ts</code> will have these two modules:</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token punctuation">{</span> <span class="token constant">DB</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;https://deno.land/x/sqlite/mod.ts&quot;</span>
<span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">&quot;https://deno.land/x/harmony/mod.ts&quot;</span>
</code></pre></div><p>Let's create two more files - <code>bot.ts</code> and <code>db.ts</code>! I already mentioned what these two different modules are going to do above.</p> <h2 id="bot-module"><a href="#bot-module" class="header-anchor">#</a> Bot Module</h2> <p>We'll start off with the bot module. What do we need now? A basic bot structure! For Slash Commands here, we'll use a class-based Client to use decorators, which is an experimental feature, but it really makes things easy and clean!</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// bot.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> 
    Client<span class="token punctuation">,</span> 
    slash<span class="token punctuation">,</span> 
    event<span class="token punctuation">,</span> 
    SlashCommandPartial<span class="token punctuation">,</span> 
    Interaction<span class="token punctuation">,</span> 
    InteractionResponseType<span class="token punctuation">,</span> 
    SlashCommandOptionType 
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./deps.ts&quot;</span>

<span class="token keyword">class</span> <span class="token class-name">TagBot</span> <span class="token keyword">extends</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token keyword">const</span> bot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TagBot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bot<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">'token comes here'</span><span class="token punctuation">,</span> Intents<span class="token punctuation">.</span>None<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Don't get confused with the imports! I'll explain what are these.</p> <ul><li>Client you already know.</li> <li>SlashCommandPartial is an interface which is basically a &quot;map&quot; or &quot;structure&quot; of our Command objects.</li> <li>Interaction is a class of which object is passed to our Slash Commands. We use this to respond to Slash Commands!</li> <li>InteractionResponseType is an enum, i.e. enumerated value. It specifies which type of response we are sending. Below is the list.
<ul><li><code>PONG</code>, it means nothing here, ignore it.</li> <li><code>ACKNOWLEDGE</code> means bot has recognized the command and silently execute i.e. with no result.</li> <li><code>CHANNEL_MESSAGE means</code> bot will just Message in response to the Slash Command.</li> <li><code>CHANNEL_MESSAGE_WITH_SOURCE</code> means bot will do above thing AND a message showing <code>&lt;User&gt; used /&lt;Command&gt; with &lt;Bot&gt;</code>.</li> <li><code>ACK_WITH_SOURCE</code> means bot will not respond and silently execute, but send the above mentioned &quot;User used Command&quot; message.</li> <li>... and you can access these in <code>InteractionResponseType</code> such as <code>InteractionResponseType.CHANNEL_MESSAGE_WITH_SOURCE</code>.</li></ul></li> <li>SlashCommandOptionType is also an enumerated value. It allows us to specify what type of option we need! There are types like String, Number, User, Role, etc. which are already parsed for us when someone uses Slash Commands.</li> <li><code>event</code> is a decorator. It adds on an easy way to listen for events.</li> <li><code>slash</code> is a decorator too. It will add a Slash Command handler.</li></ul> <p>Let's add a <code>ready</code> event. For that, we'll use <code>event</code> decorator here.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">TagBot</span> <span class="token keyword">extends</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
    @<span class="token function">event</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">ready</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Ready!&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Now try running <code>bot.ts</code> using <code>deno run --allow-net bot.ts</code> and there will be a log in console showing up when bot is connected to Discord!</p> <p>Let's proceed with adding Commands. How are we going to add them? At the moment Discord only provided us with API-way to create/modify Slash Commands. But don't worry! Harmony makes it all easy by providing simple way to create commands through code.</p> <p>A Slash Command has three properties:</p> <ul><li><code>name</code>: Simply the name of the Slash Command.</li> <li><code>description</code>: Something about the Slash Command.</li> <li><code>options</code>: Options the Slash Command accepts - can be an empty Array, <code>[]</code>, too.
<ul><li>This property contains Array (List) of Option objects, which in turn have a structure too.</li> <li><code>name</code>: Name of the option</li> <li><code>description</code>: Description of the option</li> <li><code>required</code>: Whether the option is required or not</li> <li><code>type</code>: Type of the option. Here somes the <code>SlashCommandOptionType</code> enum into use.</li> <li><code>options</code>: (Optional) for nested sub-commands or sub command groups</li></ul></li></ul> <p>For example, we want a command named <code>tag</code>, which will send a tag's contents. It will accept an option <code>name</code> which is name of the Tag to send. Structure for it would look like this,</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;tag&quot;</span><span class="token punctuation">,</span>
    description<span class="token operator">:</span> <span class="token string">&quot;Send a tag's contents.&quot;</span><span class="token punctuation">,</span>
    options<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            name<span class="token operator">:</span> <span class="token string">'name'</span><span class="token punctuation">,</span>
            description<span class="token operator">:</span> <span class="token string">'Name of the tag.'</span><span class="token punctuation">,</span>
            required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token keyword">type</span><span class="token operator">:</span> SlashCommandOptionType<span class="token punctuation">.</span><span class="token constant">STRING</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>That's it! We made our first Slash Command object. We need some more commands to complete this bot! All commands we need are: <code>tag</code>, <code>addtag</code>, <code>deletetag</code>, <code>updatetag</code>, <code>mytags</code>, and <code>alltags</code>.</p> <p>Here are the rest of Slash Command objects. I've kept them in an Array so we can sync them! Since this is pretty large data, let's keep it in a different file - <code>commands.ts</code>! Here's how it looks like:</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// Now you can remove these two imports in bot.ts!</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> SlashCommandPartial<span class="token punctuation">,</span> SlashCommandOptionType <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./dep.ts&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> commands<span class="token operator">:</span> SlashCommandPartial<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&quot;mytags&quot;</span><span class="token punctuation">,</span>
        description<span class="token operator">:</span> <span class="token string">&quot;See a list of tags made by you!&quot;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&quot;alltags&quot;</span><span class="token punctuation">,</span>
        description<span class="token operator">:</span> <span class="token string">&quot;See a list of tags in this server!&quot;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&quot;addtag&quot;</span><span class="token punctuation">,</span>
        description<span class="token operator">:</span> <span class="token string">&quot;Create a new tag in this server!&quot;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                name<span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span>
                description<span class="token operator">:</span> <span class="token string">&quot;Name of the tag.&quot;</span><span class="token punctuation">,</span>
                required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token keyword">type</span><span class="token operator">:</span> SlashCommandOptionType<span class="token punctuation">.</span><span class="token constant">STRING</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                name<span class="token operator">:</span> <span class="token string">&quot;content&quot;</span><span class="token punctuation">,</span>
                description<span class="token operator">:</span> <span class="token string">&quot;New content of the tag.&quot;</span><span class="token punctuation">,</span>
                required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token keyword">type</span><span class="token operator">:</span> SlashCommandOptionType<span class="token punctuation">.</span><span class="token constant">STRING</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&quot;updatetag&quot;</span><span class="token punctuation">,</span>
        description<span class="token operator">:</span> <span class="token string">&quot;Update your tag's response.&quot;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                name<span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span>
                description<span class="token operator">:</span> <span class="token string">&quot;Name of the tag.&quot;</span><span class="token punctuation">,</span>
                required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token keyword">type</span><span class="token operator">:</span> SlashCommandOptionType<span class="token punctuation">.</span><span class="token constant">STRING</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                name<span class="token operator">:</span> <span class="token string">&quot;content&quot;</span><span class="token punctuation">,</span>
                description<span class="token operator">:</span> <span class="token string">&quot;New content of the tag.&quot;</span><span class="token punctuation">,</span>
                required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token keyword">type</span><span class="token operator">:</span> SlashCommandOptionType<span class="token punctuation">.</span><span class="token constant">STRING</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&quot;deletetag&quot;</span><span class="token punctuation">,</span>
        description<span class="token operator">:</span> <span class="token string">&quot;Delete a tag of yours.&quot;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                name<span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span>
                description<span class="token operator">:</span> <span class="token string">&quot;Name of the tag.&quot;</span><span class="token punctuation">,</span>
                required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token keyword">type</span><span class="token operator">:</span> SlashCommandOptionType<span class="token punctuation">.</span><span class="token constant">STRING</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&quot;tag&quot;</span><span class="token punctuation">,</span>
        description<span class="token operator">:</span> <span class="token string">&quot;Send a tag's contents.&quot;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                name<span class="token operator">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span>
                description<span class="token operator">:</span> <span class="token string">&quot;Name of the tag.&quot;</span><span class="token punctuation">,</span>
                required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token keyword">type</span><span class="token operator">:</span> SlashCommandOptionType<span class="token punctuation">.</span><span class="token constant">STRING</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>Note the <code>export</code> keyword - I'm exporting it so it can be used in <code>bot.ts</code>!
Coming back to <code>bot.ts</code>, let's import commands there. Add this line somewhere on top.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> commands <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./commands.ts&quot;</span>
</code></pre></div><p>And boom! We got our commands. Let's now actually &quot;create&quot; them. For that, we use <code>&lt;Client&gt;.slash.commands.create(&lt;command object&gt;)</code>. But since here we are using class-based Client, <code>&lt;Client&gt;</code> can be replaced with <code>this</code> inside the <code>ready</code> event.</p> <p>Let's add code in ready event to create out Slash Commands.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">TagBot</span> <span class="token keyword">extends</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
    @<span class="token function">event</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">ready</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Ready!&quot;</span><span class="token punctuation">)</span>
        commands<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>command <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// If you want to create command globally, just remove 'Your Server/Guild ID' part</span>
            <span class="token comment">// I recommend making it for only one guild for now because Global Slash Commands can take max 1 hour to come live.</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>slash<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>command<span class="token punctuation">,</span> <span class="token string">'Your Server/Guild ID'</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>cmd<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Created Slash Command </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>cmd<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Failed to create </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>cmd<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> command!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Now run your bot, you should see logs coming up about creation of commands. If something fails, recheck your code!
After creating, you can now remove this code. Try out typing <code>/</code> in your server, bot's commands will show up in the menu, something like this:</p> <p><img src="https://cdn.discordapp.com/attachments/702051713758003201/786828777724313600/unknown.png" alt="Slash Menu"></p> <p>If you try using commands now, nothing will happen. Because we are not handling them yet!</p> <p>Let's add code to handle <code>mytags</code> command. We'll use <code>slash</code> decorator we imported earlier.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">TagBot</span> <span class="token keyword">extends</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>

    @<span class="token function">slash</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">mytags</span><span class="token punctuation">(</span>i<span class="token operator">:</span> Interaction<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>We just added a new function <code>mytags</code> and &quot;decorated&quot; it with <code>slash</code> decorator to make it a Slash Command Handler.
If you want to name function something else, you can do something like this:</p> <div class="language-ts extra-class"><pre class="language-ts"><code>@<span class="token function">slash</span><span class="token punctuation">(</span><span class="token string">'mytags'</span><span class="token punctuation">)</span>
<span class="token function">mytagsCommand</span><span class="token punctuation">(</span>i<span class="token operator">:</span> Interaction<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre></div><p>Okay, now let's make it respond to our command with <code>You have no tags.</code></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">TagBot</span> <span class="token keyword">extends</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>

    @<span class="token function">slash</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">mytags</span><span class="token punctuation">(</span>i<span class="token operator">:</span> Interaction<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        i<span class="token punctuation">.</span><span class="token function">respond</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            content<span class="token operator">:</span> <span class="token string">'You have no tags.'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Now restart your bot, and try typing <code>/mytags</code> and press Enter when it appears.
You'll see bot saying &quot;You have no tags.&quot; That's it! We made our very own first Slash Command!</p> <p>Let's add handlers for all the Slash Commands, but empty for now.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">TagBot</span> <span class="token keyword">extends</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>

    @<span class="token function">slash</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">mytags</span><span class="token punctuation">(</span>i<span class="token operator">:</span> Interaction<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

    @<span class="token function">slash</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">alltags</span><span class="token punctuation">(</span>i<span class="token operator">:</span> Interaction<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

    @<span class="token function">slash</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">addtag</span><span class="token punctuation">(</span>i<span class="token operator">:</span> Interaction<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

    @<span class="token function">slash</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">updatetag</span><span class="token punctuation">(</span>i<span class="token operator">:</span> Interaction<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

    @<span class="token function">slash</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">deletetag</span><span class="token punctuation">(</span>i<span class="token operator">:</span> Interaction<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

    @<span class="token function">slash</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">tag</span><span class="token punctuation">(</span>i<span class="token operator">:</span> Interaction<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Now we'll move on to our database module so that we have something to get/add/delete/update tags!</p> <h2 id="database-module"><a href="#database-module" class="header-anchor">#</a> Database Module</h2> <p>We won't go in much depth here. We need following methods for our commands: <code>getUserTags</code>, <code>getGuildTags</code>, <code>getTag</code>, <code>addTag</code>, <code>editTag</code>.</p> <p>Let's initialize our database,</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// db.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">DB</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./deps.ts&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> db <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token constant">DB</span></span><span class="token punctuation">(</span><span class="token string">&quot;./tags.sqlite&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Add the following code to the file,</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    db<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">CREATE TABLE IF NOT EXISTS tags(id INTEGER PRIMARY KEY AUTOINCREMENT, user TEXT, guild TEXT, name TEXT, uname TEXT, content TEXT, created TEXT)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getUserTags</span><span class="token punctuation">(</span>guild<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">...</span>db<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">SELECT * FROM tags WHERE user = ? AND guild = ?</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>user<span class="token punctuation">,</span> guild<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asObjects</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getGuildTags</span><span class="token punctuation">(</span>guild<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">...</span>db<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">SELECT * FROM tags WHERE guild = ?</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>guild<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asObjects</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getTag</span><span class="token punctuation">(</span>guild<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">...</span>db<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">SELECT * FROM tags WHERE guild = ? AND uname = ?</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>guild<span class="token punctuation">,</span> name<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asObjects</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">deleteTag</span><span class="token punctuation">(</span>guild<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">getTag</span><span class="token punctuation">(</span>guild<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>
    db<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">DELETE FROM tags WHERE guild = ? AND uname = ?</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>guild<span class="token punctuation">,</span> name<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">editTag</span><span class="token punctuation">(</span>guild<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> update<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">getTag</span><span class="token punctuation">(</span>guild<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>
    db<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">UPDATE tags SET content = ? WHERE guild = ? AND uname = ?</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>update<span class="token punctuation">,</span> guild<span class="token punctuation">,</span> name<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token function">getTag</span><span class="token punctuation">(</span>guild<span class="token punctuation">,</span> name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">addTag</span><span class="token punctuation">(</span>guild<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">getTag</span><span class="token punctuation">(</span>guild<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span>
    db<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">INSERT INTO tags (user, guild, uname, name, content, created) VALUES (?, ?, ?, ?, ?, ?)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>user<span class="token punctuation">,</span> guild<span class="token punctuation">,</span> name<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> content<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token function">getTag</span><span class="token punctuation">(</span>guild<span class="token punctuation">,</span> name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Since this guide is focussed on usage of Harmony, we aren't going in depth of these queries/methods.</p> <h3 id="bot-module-2"><a href="#bot-module-2" class="header-anchor">#</a> Bot Module - 2</h3> <p>Let's import these in our <code>bot.ts</code></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// ...</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getUserTags<span class="token punctuation">,</span> getGuildTags<span class="token punctuation">,</span> getTag<span class="token punctuation">,</span> addTag<span class="token punctuation">,</span> editTag<span class="token punctuation">,</span> deleteTag <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./db.ts&quot;</span>
<span class="token comment">// ...</span>
</code></pre></div><p>Let's start adding code to our Slash Command handlers.</p> <ul><li><code>tag</code></li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// Get the tag name from command arguments (options)</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> i<span class="token punctuation">.</span>options<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> e<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token operator">?.</span>value <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token comment">// Get the tag from database</span>
<span class="token keyword">const</span> tag <span class="token operator">=</span> <span class="token function">getTag</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>guild<span class="token punctuation">.</span>id<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Respond if tag not found.</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>tag<span class="token punctuation">)</span>
    <span class="token keyword">return</span> i<span class="token punctuation">.</span><span class="token function">respond</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token keyword">type</span><span class="token operator">:</span> InteractionResponseType<span class="token punctuation">.</span><span class="token constant">CHANNEL_MESSAGE</span><span class="token punctuation">,</span>
        content<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Tag with name \`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>
            <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">`</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span>
            <span class="token string">&quot;`&quot;</span>
        <span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\` could not be found.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token comment">// Note this temp option. This makes message visible only to User who used command and also can be dismissed!</span>
        temp<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Else respond with tag's content.</span>
<span class="token keyword">else</span>
    i<span class="token punctuation">.</span><span class="token function">respond</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token keyword">type</span><span class="token operator">:</span> InteractionResponseType<span class="token punctuation">.</span><span class="token constant">CHANNEL_MESSAGE_WITH_SOURCE</span><span class="token punctuation">,</span>
        content<span class="token operator">:</span> tag<span class="token punctuation">.</span>content
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>mytags</code></li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// Get all tags of the User</span>
<span class="token keyword">const</span> tags <span class="token operator">=</span> <span class="token function">getUserTags</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>guild<span class="token punctuation">.</span>id<span class="token punctuation">,</span> i<span class="token punctuation">.</span>user<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>tags<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> i<span class="token punctuation">.</span><span class="token function">respond</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        content<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">You have no tags in this server yet.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        temp<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token keyword">type</span><span class="token operator">:</span> InteractionResponseType<span class="token punctuation">.</span><span class="token constant">CHANNEL_MESSAGE</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">else</span> <span class="token punctuation">{</span>
    i<span class="token punctuation">.</span><span class="token function">respond</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token keyword">type</span><span class="token operator">:</span> InteractionResponseType<span class="token punctuation">.</span><span class="token constant">CHANNEL_MESSAGE</span><span class="token punctuation">,</span>
        temp<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        content<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">**Your Tags:** </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>tags<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> e<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;, &quot;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>alltags</code></li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// Get all Tags in current Server/Guild</span>
<span class="token keyword">const</span> tags <span class="token operator">=</span> <span class="token function">getGuildTags</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>guild<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>tags<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> i<span class="token punctuation">.</span><span class="token function">respond</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        content<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">This server has no tags yet.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        temp<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token keyword">type</span><span class="token operator">:</span> InteractionResponseType<span class="token punctuation">.</span><span class="token constant">CHANNEL_MESSAGE</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">else</span> <span class="token punctuation">{</span>
    i<span class="token punctuation">.</span><span class="token function">respond</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token keyword">type</span><span class="token operator">:</span> InteractionResponseType<span class="token punctuation">.</span><span class="token constant">CHANNEL_MESSAGE</span><span class="token punctuation">,</span>
        temp<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        content<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">**All Tags:** </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>tags<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> e<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;, &quot;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>addtag</code></li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> tags <span class="token operator">=</span> <span class="token function">getUserTags</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>guild<span class="token punctuation">.</span>id<span class="token punctuation">,</span> i<span class="token punctuation">.</span>user<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Let's keep max number of tags of a user 10</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>tags<span class="token punctuation">.</span>length <span class="token operator">&gt;=</span> <span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> i<span class="token punctuation">.</span><span class="token function">respond</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token keyword">type</span><span class="token operator">:</span> InteractionResponseType<span class="token punctuation">.</span><span class="token constant">CHANNEL_MESSAGE</span><span class="token punctuation">,</span>
        content<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">You have reached maximum number of tags!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        temp<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> name <span class="token operator">=</span> i<span class="token punctuation">.</span>options<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> e<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token operator">?.</span>value <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> content <span class="token operator">=</span> i<span class="token punctuation">.</span>options<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> e<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token string">&quot;content&quot;</span><span class="token punctuation">)</span><span class="token operator">?.</span>value <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>content<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">2000</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> i<span class="token punctuation">.</span><span class="token function">respond</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token keyword">type</span><span class="token operator">:</span> InteractionResponseType<span class="token punctuation">.</span><span class="token constant">CHANNEL_MESSAGE</span><span class="token punctuation">,</span>
        content<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Tag content length must be between 1-2000 characters.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        temp<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> added <span class="token operator">=</span> <span class="token function">addTag</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>guild<span class="token punctuation">.</span>id<span class="token punctuation">,</span> i<span class="token punctuation">.</span>user<span class="token punctuation">.</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> content<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>added <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> i<span class="token punctuation">.</span><span class="token function">respond</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token keyword">type</span><span class="token operator">:</span> InteractionResponseType<span class="token punctuation">.</span><span class="token constant">CHANNEL_MESSAGE</span><span class="token punctuation">,</span>
        content<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Tag with name \`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">`</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;`&quot;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\` already exists.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        temp<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span>
    <span class="token keyword">return</span> i<span class="token punctuation">.</span><span class="token function">respond</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token keyword">type</span><span class="token operator">:</span> InteractionResponseType<span class="token punctuation">.</span><span class="token constant">CHANNEL_MESSAGE</span><span class="token punctuation">,</span>
        content<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Added new tag: \`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">`</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;`&quot;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\`!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        temp<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>deletetag</code></li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> name <span class="token operator">=</span> i<span class="token punctuation">.</span>options<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> e<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token operator">?.</span>value <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> tag <span class="token operator">=</span> <span class="token function">getTag</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>guild<span class="token punctuation">.</span>id<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>tag<span class="token punctuation">)</span>
    <span class="token keyword">return</span> i<span class="token punctuation">.</span><span class="token function">respond</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token keyword">type</span><span class="token operator">:</span> InteractionResponseType<span class="token punctuation">.</span><span class="token constant">CHANNEL_MESSAGE</span><span class="token punctuation">,</span>
        content<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Tag with name \`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">`</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;`&quot;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\` could not be found.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        temp<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>tag<span class="token punctuation">.</span>user <span class="token operator">!=</span> d<span class="token punctuation">.</span>user<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
    <span class="token keyword">return</span> i<span class="token punctuation">.</span><span class="token function">respond</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token keyword">type</span><span class="token operator">:</span> InteractionResponseType<span class="token punctuation">.</span><span class="token constant">CHANNEL_MESSAGE</span><span class="token punctuation">,</span>
        content<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Tag with name \`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">`</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;`&quot;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\` is not your!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        temp<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">deleteTag</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>guild<span class="token punctuation">.</span>id<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>

i<span class="token punctuation">.</span><span class="token function">respond</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token keyword">type</span><span class="token operator">:</span> InteractionResponseType<span class="token punctuation">.</span><span class="token constant">CHANNEL_MESSAGE</span><span class="token punctuation">,</span>
    content<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Delete tag: \`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">`</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;`&quot;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\`!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    temp<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>updatetag</code></li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> name <span class="token operator">=</span> i<span class="token punctuation">.</span>options<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> e<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token operator">?.</span>value <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> content <span class="token operator">=</span> i<span class="token punctuation">.</span>options<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> e<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token string">&quot;content&quot;</span><span class="token punctuation">)</span><span class="token operator">?.</span>value <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>content<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">2000</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> i<span class="token punctuation">.</span><span class="token function">respond</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token keyword">type</span><span class="token operator">:</span> InteractionResponseType<span class="token punctuation">.</span><span class="token constant">CHANNEL_MESSAGE</span><span class="token punctuation">,</span>
        content<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Tag content length must be between 1-2000 characters.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        temp<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> tag <span class="token operator">=</span> <span class="token function">getTag</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>guild<span class="token punctuation">.</span>id<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>tag<span class="token punctuation">)</span>
    <span class="token keyword">return</span> i<span class="token punctuation">.</span><span class="token function">respond</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token keyword">type</span><span class="token operator">:</span> InteractionResponseType<span class="token punctuation">.</span><span class="token constant">CHANNEL_MESSAGE</span><span class="token punctuation">,</span>
        content<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Tag with name \`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">`</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token string">&quot;`&quot;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\` could not be found.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        temp<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>tag<span class="token punctuation">.</span>user <span class="token operator">!=</span> d<span class="token punctuation">.</span>user<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
    <span class="token keyword">return</span> i<span class="token punctuation">.</span><span class="token function">respond</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token keyword">type</span><span class="token operator">:</span> InteractionResponseType<span class="token punctuation">.</span><span class="token constant">CHANNEL_MESSAGE</span><span class="token punctuation">,</span>
        content<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Tag with name \`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">`</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;`&quot;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\` is not your!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        temp<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">editTag</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>guild<span class="token punctuation">.</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> content<span class="token punctuation">)</span><span class="token punctuation">;</span>
i<span class="token punctuation">.</span><span class="token function">respond</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token keyword">type</span><span class="token operator">:</span> InteractionResponseType<span class="token punctuation">.</span><span class="token constant">CHANNEL_MESSAGE</span><span class="token punctuation">,</span>
    content<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Updated tag: \`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">`</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;`&quot;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\`!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    temp<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>And now our tag bot using Slash Commands is ready! Try playing around it. Here's your homework, try implementing these features.</p> <ul><li>Allow Moderators to delete tags</li> <li>A taginfo command to see who created tag and when</li> <li>Add suggestions for tag name when user spelled it wrong</li></ul> <h2 id="resulting-code"><a href="#resulting-code" class="header-anchor">#</a> Resulting code</h2> <p>If you got stuck somewhere, resulting code of this guide can be found <a href="https://github.com/DjDeveloperr/tag-bot" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. It has a little more than we did here.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/harmonyland/harmonyland.github.io/edit/master/src/guide/slash_commands/tag_bot.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/21/2021, 3:04:45 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      
      <a href="/guide/beginner/basic_bot.html" class="prev">
        Making a Basic Bot
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.aa2b0109.js" defer></script><script src="/assets/js/2.9c788505.js" defer></script><script src="/assets/js/12.af175295.js" defer></script>
  </body>
</html>
